<Project Sdk="Microsoft.NET.Sdk.Web">

	<PropertyGroup>
		<TargetFramework>net6.0</TargetFramework>
		<RestoreSources></RestoreSources>
		<RootNamespace>HeadlessCms</RootNamespace>
		<!-- Prepare for a nullable codebase -->
		<Nullable>warnings</Nullable>
		<Version>1.0.0.4</Version>
		<PackageLicenseExpression>Apache-2.0</PackageLicenseExpression>
		<PackageReadmeFile>README.md</PackageReadmeFile>
		<Authors>Remko Jantzen / Optimizely SA Team</Authors>
		<Company>Optimizely</Company>
		<Product>Foundation SPA React (CMS 12)</Product>
	</PropertyGroup>

	<!-- Resolve file publishing issue related to the EPiServer.Forms module -->
	<ItemGroup>
	  <Compile Remove="modules\_protected\EPiServer.Forms\**" />
	  <Content Remove="modules\_protected\EPiServer.Forms\**" />
	  <EmbeddedResource Remove="modules\_protected\EPiServer.Forms\**" />
	  <None Remove="modules\_protected\EPiServer.Forms\**" />
	</ItemGroup>
	<ItemGroup>
	  <None Remove="App_Data\certificates\my.pfx" />
	  <None Remove="App_Data\foundation.episerverdata" />
	</ItemGroup>
	<ItemGroup>
	  <Content Include="App_Data\certificates\my.pfx">
	    <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
	  </Content>
	  <Content Include="App_Data\foundation.episerverdata">
	    <CopyToOutputDirectory>PreserveNewest</CopyToOutputDirectory>
	  </Content>
	</ItemGroup>

	<ItemGroup>
		<Folder Include="wwwroot\" />
		<None Include="..\..\README.md">
		  <Pack>True</Pack>
		  <PackagePath>\</PackagePath>
		</None>
		<PackageReference Include="EPiServer.CloudPlatform.Cms" Version="1.0.5" />
		<PackageReference Include="EPiServer.CMS" Version="12.10.0" />
		<PackageReference Include="EPiServer.CMS.UI.VisitorGroups" Version="12.10.0" />
		<PackageReference Include="EPiServer.ContentDefinitionsApi" Version="3.5.0" />
		<PackageReference Include="EPiServer.ContentDeliveryApi.Cms" Version="3.5.0" />
		<PackageReference Include="EPiServer.ContentDeliveryApi.Forms" Version="3.5.0" />
		<PackageReference Include="EPiServer.ContentDeliveryApi.Search" Version="3.5.0" />
		<PackageReference Include="EPiServer.ContentManagementApi" Version="3.5.0" />
		<PackageReference Include="EPiServer.Find" Version="14.0.4" />
		<PackageReference Include="EPiServer.Find.Cms" Version="14.0.4" />
		<PackageReference Include="EPiServer.Find.Cms.AttachmentFilter" Version="14.0.4" />
		<PackageReference Include="EPiServer.Find.Framework" Version="14.0.4" />
		<PackageReference Include="EPiServer.Find.Personalization" Version="14.0.4" />
		<PackageReference Include="EPiServer.Labs.BlockEnhancements" Version="1.1.1" />
		<PackageReference Include="EPiServer.Labs.LanguageManager" Version="5.1.1" />
		<PackageReference Include="EPiServer.Labs.LinkItemProperty" Version="1.0.2" />
		<PackageReference Include="EPiServer.Labs.ProjectEnhancements" Version="1.0.0" />
		<PackageReference Include="EPiServer.OpenIDConnect" Version="3.5.0" />
		<PackageReference Include="EPiServer.OpenIDConnect.UI" Version="3.5.0" />
		<PackageReference Include="UNRVLD.ODP.VisitorGroups" Version="1.2.0.23" />

		<!-- Lab projects broken by CMS 12.8 -->
		<!--<PackageReference Include="EPiServer.Labs.ContentManager" Version="1.0.2" />-->
		<!--<PackageReference Include="EPiServer.Labs.GridView" Version="1.0.2" />-->
		
		<!-- Optimizely Content Graph Private Beta -->
		<!--<PackageReference Include="Optimizely.ContentGraph.Cms" Version="2.0.0-pre-42270" />-->
	  
		<!-- EPiServer.Forms is not yet supported within Headless CMS Builds, so the API Package has been disabled. -->
		<PackageReference Include="EPiServer.Forms" Version="5.2.0" />
		<PackageReference Include="EPiServer.ConnectForMarketingAutomation" Version="6.1.0" />
		<PackageReference Include="EPiServer.Marketing.Automation.Forms" Version="3.1.0" />
		<!--<PackageReference Include="EPiServer.ContentDeliveryApi.Forms" Version="3.0.0-pre-000226" />-->

		<!-- Conflict resolution -->
		<PackageReference Include="EPiServer.CMS.UI" Version="12.10.0" /><!-- Resolve dependency warning by EPiServer.CMS.TinyMce -->
		<PackageReference Include="EPiServer.Hosting" Version="12.8.0" /><!-- EPiServer.CMS 12.7.0 has an explicit dependency on EPiServer.Hosting 12.4.2, causing errors -->
		<PackageReference Include="System.Configuration.ConfigurationManager" Version="6.0.0" />
		<PackageReference Include="Yarp.ReverseProxy" Version="1.1.1" /><!-- EPiServer.CMS.AspNetCore.Mvc declares a dependency on 5.x, however EPiServer.CloudPlatform.Cms declares a dependency on 6.x -->
	</ItemGroup>
	<ItemGroup>
		<ProjectReference Include="..\Foundation.ContentApi.Extensions\Foundation.ContentApi.Extensions.csproj" />
		<ProjectReference Include="..\Foundation.Settings\Foundation.Settings.csproj" />
		<ProjectReference Include="..\Foundation.ApiExplorer\Foundation.ApiExplorer.csproj" />
		<ProjectReference Include="..\Foundation.ContentActionsApi\Foundation.ContentActionsApi.csproj" />
	</ItemGroup>
</Project>
